{
    "test": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: manifest-to-helm\n    service: test-service\n  name: test-service\nspec:\n  selector:\n    matchLabels:\n      app: manifest-to-helm\n      service: test-service\n  template:\n    metadata:\n      labels:\n        app: manifest-to-helm\n        service: test-service\n      name: test-service\n    spec:\n      containers:\n      - env: \n        {{- range .Values.test.document_0.env }}\n        - name: {{ .name }}\n          {{- if hasKey . \"value\" }}\n          value: {{ .value | quote }}\n          {{- else }}\n          valueFrom:\n            secretKeyRef:\n              name: {{ .valueFrom.secretKeyRef.name }}\n              key: {{ .valueFrom.secretKeyRef.key }}\n          {{- end }}\n        {{- end }}\n        image: {{ .Values.test.document_0.image }}\n        imagePullPolicy: {{ .Values.test.document_0.imagePullPolicy }}\n        name: test-service\n        ports:\n        - containerPort: 8000\n          name: test-service-http\n          protocol: TCP\n        resources: \n          {{- if .Values.test.document_0.resources }}\n          {{- if .Values.test.document_0.resources.limits }}\n          limits:\n            {{- if .Values.test.document_0.resources.limits.cpu }}\n            cpu: {{ .Values.test.document_0.resources.limits.cpu }}\n            {{- end }}\n            {{- if .Values.test.document_0.resources.limits.memory }}\n            memory: {{ .Values.test.document_0.resources.limits.memory }}\n            {{- end }}\n          {{- end }}\n          {{- if .Values.test.document_0.resources.requests }}\n          requests:\n            {{- if .Values.test.document_0.resources.requests.cpu }}\n            cpu: {{ .Values.test.document_0.resources.requests.cpu }}\n            {{- end }}\n            {{- if .Values.test.document_0.resources.requests.memory }}\n            memory: {{ .Values.test.document_0.resources.requests.memory }}\n            {{- end }}\n          {{- end }}\n          {{- end }}\n        stdin: true\n        tty: true\n        volumeMounts:\n        - mountPath: /tmp\n          name: temp-dir\n      hostname: test-service\n      imagePullSecrets:\n      - name: {{ .Values.test.document_0.imagePullSecret }}\n      restartPolicy: Always\n      volumes:\n      - emptyDir: {}\n        name: temp-dir\n---\napiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app: manifest-to-helm\n    service: test-service\n  name: test-service\nspec:\n  ports:\n  - name: test-service-http\n    port: 8000\n    protocol: TCP\n    targetPort: 8000\n  selector:\n    app: manifest-to-helm\n    service: test-service\n  sessionAffinity: None\n  type: {{ .Values.test.document_1.serviceType }}\n"
}